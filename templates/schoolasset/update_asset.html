{% extends 'panel/index.html' %}

{% block content %}
<style>
/* ===================== GLOBAL FONT ===================== */
body, h1, h3, h4, h5, label, input, select, button {
    font-family: 'Roboto', sans-serif;
}

/* ===================== CARD ===================== */
.card {
    border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.10);
    overflow: hidden;
    background: #fff;
}

 /* ===== TITLE BAR (Gradient + Badge) ===== */
.card-title {
    background: linear-gradient(90deg, #005C97, #363795);
    padding: 4px  !important;
    border-radius: 20px 20px 0 0;
}

.card-title h5 {
    margin: 0;
    font-size: 17px;                  /* reduced */
    font-weight: 500;

}

.card-title span.badge {
    background: #f8f9fa;
    color: #000;
    font-size: 13px;                  /* reduced badge font */
    padding: 4px 20px;                /* reduced badge padding */
    border-radius: 6px;
}


/* ===================== FLOATING LABEL ===================== */
.form-floating-outline {
    position: relative;
    margin-bottom: 15px;
}

.form-floating-outline > label {
    position: absolute;
    top: -8px;
    left: 14px;
    background: white;
    padding: 0 6px;
    font-size: 13px;
    color: #555;
}

.form-floating-outline > input,
.form-floating-outline > select {
    width: 100%;
    height: 52px;
    border-radius: 10px;
    padding: 14px 12px 6px 12px;
    border: 1px solid #ccc;
    font-size: 15px;
}

/* ===================== BUTTON ===================== */
.btn-primary {
    background: linear-gradient(135deg, #009ffd, #2a2a72);
    border: none;

    border-radius: 10px;
    font-size: 15px;
    font-weight: 500;
}
.btn-danger {
   background: linear-gradient(135deg, #ff4e50, #8b0000);
    border: none;

    border-radius: 10px;
    font-size: 15px;
    font-weight: 500;
}
.text-end {
    padding-top: 10px;
}
</style>

<div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
        <!-- Compact Title Bar -->
        <div class="card-title text-center">
            <h5><span class="badge bg-light text-dark">Update Asset</span></h5>
        </div>

        <div class="card-body">
            <div class="container mt-4">
                <!-- Brand Modal -->
                <div class="modal fade" id="new_brand" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            <div class="modal-body">
                                <div class="text-center mb-3">
                                    <h4>Brand Name</h4>
                                </div>
                                <form method="POST" action="{% url 'add_newbrand' %}" class="row g-3">
                                    {% csrf_token %}
                                    <div class="col-12">
                                        {{ form2.as_p }}
                                    </div>
                                    <div class="col-12 text-center mt-3">
                                        <button type="submit" class="btn btn-primary">Submit</button>
                                        <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /Brand Modal -->

                <!-- Asset Form -->
                <form method="post">
                    {% csrf_token %}

                    <div class="row mb-3">
                        <div class="col-md-6">
                            {{ form.asset_name.label_tag }}
                            {{ form.asset_name }}
                        </div>
                        <div class="col-md-6">
                            {{ form.room.label_tag }}
                            {{form.room}}
                        </div>
                    </div>

                    <div class="row mb-3 align-items-end">
                        <div class="col-md-6">
                            {{ form.asset_type.label_tag }}
                            {{form.asset_type}}
                        </div>

                        <div class="col-md-5">
                            {{ form.brand.label_tag }}
                            {{ form.brand }}
                        </div>

                        <div class="col-md-1 text-center">
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#new_brand">+</button>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            {{ form.serial_number.label_tag }}
                            {{ form.serial_number }}
                        </div>
                        <div class="col-md-6">
                            {{ form.asset_tag.label_tag }}
                            {{ form.asset_tag }}
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            {{ form.purchase_date.label_tag }}
                            {{ form.purchase_date }}
                        </div>
                        <div class="col-md-6">
                            {{ form.warranty_end_date.label_tag }}
                            {{ form.warranty_end_date }}
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            {{ form.vendor.label_tag }}
                            {{ form.vendor }}
                        </div>
                        <div class="col-md-6">
                            {{ form.asset_school.label_tag }}
                            <select name="asset_school" class="form-control" id="id_asset_school">
                                <option value="{{skool.id}}" selected>{{skool}}</option>
                            </select>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            {{ form.condition.label_tag }}
                            {{ form.condition }}
                        </div>
                        <div class="col-md-6">
                            {{ form.assign.label_tag }}
                            {{form.assign}}
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            {{ form.remark.label_tag }}
                            {{ form.remark }}
                        </div>
                        <div class="col-md-6 d-flex align-items-center mt-3">
                            <input type="checkbox" name="is_discarded" class="form-check-input me-2" id="id_is_discarded">
                            {{ form.is_discarded.label_tag }}
                        </div>
                    </div>

                    <div class="text-end">
                        <button type="submit" class="btn btn-primary">Submit</button>
                        <button type="reset" class="btn btn-danger">Clear</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
